<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-corner-indicator.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="JAVAWeb," />










<meta name="description" content="MVC框架设计 MVC是一种用MVC(module-view-controller)设计创建web应用程序的模式  M(module)模型表示程序的核心，例如表的各种操作 V(view)视图显示数据，例如在html上显示表的各种数据 C(controller)控制器控制输入和view与module之间的交互，例如将页面数据写入数据库Model（模型）是应用程序中用于处理应用程序数据逻辑的部分。">
<meta name="keywords" content="JAVAWeb">
<meta property="og:type" content="article">
<meta property="og:title" content="JAVAWeb">
<meta property="og:url" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;index.html">
<meta property="og:site_name" content="welcome to my land">
<meta property="og:description" content="MVC框架设计 MVC是一种用MVC(module-view-controller)设计创建web应用程序的模式  M(module)模型表示程序的核心，例如表的各种操作 V(view)视图显示数据，例如在html上显示表的各种数据 C(controller)控制器控制输入和view与module之间的交互，例如将页面数据写入数据库Model（模型）是应用程序中用于处理应用程序数据逻辑的部分。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;MVC.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;regist.png">
<meta property="og:image" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;servlet.png">
<meta property="og:image" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;servlet1.png">
<meta property="og:image" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;servlet2.png">
<meta property="og:image" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;email.png">
<meta property="og:image" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;login.png">
<meta property="og:image" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;BaseServlet.png">
<meta property="og:image" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;category.png">
<meta property="og:image" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F.png">
<meta property="og:image" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F1.png">
<meta property="og:image" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F.png">
<meta property="og:image" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;Servlet.png">
<meta property="og:updated_time" content="2020-06-23T02:39:07.129Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http:&#x2F;&#x2F;azrookie.com&#x2F;2020&#x2F;04&#x2F;24&#x2F;JAVAWeb&#x2F;MVC.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://AZrookie.com/2020/04/24/JAVAWeb/"/>





  <title>JAVAWeb | welcome to my land</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
<a href="https://github.com/AZrookie" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#fff; color:#151513; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">welcome to my land</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-schedule">
          <a href="/schedule/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br />
            
            日程表
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            站点地图
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" target="_blank" rel="noopener" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://AZrookie.com/2020/04/24/JAVAWeb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AZrookie">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/pig.jfif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="welcome to my land">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JAVAWeb</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-04-24T13:49:24+08:00">
                2020-04-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/04/24/JAVAWeb/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2020/04/24/JAVAWeb/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv">本文总阅读数 <i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>次
            </span>
          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  13.9k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  54
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="MVC框架设计"><a href="#MVC框架设计" class="headerlink" title="MVC框架设计"></a>MVC框架设计</h1><ol>
<li>MVC是一种用MVC(module-view-controller)设计创建web应用程序的模式</li>
<li><ul>
<li>M(module)模型表示程序的核心，例如表的各种操作</li>
<li>V(view)视图显示数据，例如在html上显示表的各种数据</li>
<li>C(controller)控制器控制输入和view与module之间的交互，例如将页面数据写入数据库<br>Model（模型）是应用程序中用于处理应用程序数据逻辑的部分。<br>　　通常模型对象负责在数据库中存取数据。<br>View（视图）是应用程序中处理数据显示的部分。<br>　　通常视图是依据模型数据创建的。<br>Controller（控制器）是应用程序中处理用户交互的部分。<br>　　通常控制器负责从视图读取数据，控制用户输入，并向模型发送数据。<br><img src="/2020/04/24/JAVAWeb/MVC.jpg" alt></li>
</ul>
</li>
</ol>
<h1 id="网站案例结构"><a href="#网站案例结构" class="headerlink" title="网站案例结构"></a>网站案例结构</h1><ol>
<li>Web层：<br> a.servlet:前端控制器，用于控制前端页面和用户的交互。<br> b.html：视图层，用来展示相关内容，面向普通用户，如果面向内部人员，常常使用jsp展示<br> c.Jackson：json，因为html不能直接显示后端的数据，需要将数据序列化之后才能展示<br> d.BeanUtils：数据封装<br> e.Filter：用于向服务器发送请求之前进行的统一操作，例如统一字符集</li>
<li>Service层：<br> a.javamail：Java发送邮件的工具<br> b.redis：nosql数据库，提升查询效率<br> c.jedis：java的redis客户端</li>
<li>Dao层：<br> a.Mysql：数据库<br> b.Druid:数据池，提升效率<br> c.jdbc Template:jdbc的工具类</li>
<li>DAO负责一些底层操作，例如表的增删改查，并且一张表对应一个DAO，service相当于业务逻辑，就像行动大纲，列出流程，调用DAO的方法完成某一个功能，Servlet相当于控制器，用户页面的交互，例如将表中的数据读取出来写到页面上，或者将表单中的数据写回到表中。</li>
</ol>
<h1 id="功能分析"><a href="#功能分析" class="headerlink" title="功能分析"></a>功能分析</h1><h2 id="注册功能"><a href="#注册功能" class="headerlink" title="注册功能"></a>注册功能</h2><p>知识点：JQuery，<br><img src="/2020/04/24/JAVAWeb/regist.png" alt></p>
<h3 id="前台效果-V层"><a href="#前台效果-V层" class="headerlink" title="前台效果(V层)"></a>前台效果(V层)</h3><ol>
<li>表单校验：验证用户输入的数据是否符合要求，用Jquery中的正则表达式来约束，在写表单校验的时候，最后调用blur的时候，写函数名不需要加括号，<br>否则输入框会一直变红，无法消去。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(function()&#123;</span><br><span class="line">//当提交表单时校验所有输入</span><br><span class="line">$(&quot;#registerForm&quot;).submit(function()&#123;</span><br><span class="line">		return ;</span><br><span class="line">	&#125;)</span><br><span class="line">//当鼠标离开某个输入框框时，就进行校验</span><br><span class="line">$(&quot;#username&quot;).blur(function(&#123;</span><br><span class="line">		checkusername();</span><br><span class="line">	&#125;))</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li>用户名：单词字符，8到20位<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function checkUsername() &#123;</span><br><span class="line">            //单词字符，8到20位</span><br><span class="line">            //1. 获取用户名</span><br><span class="line">           var username= $("#username").val();</span><br><span class="line">           //定义正则表达式</span><br><span class="line">           var red_username = /^\w&#123;8,20&#125;$/;</span><br><span class="line">           //判断是否符合</span><br><span class="line">           var flag= red_username.test(username);</span><br><span class="line">           //如果正确就将原来的红边框消去</span><br><span class="line">           if (flag)&#123;</span><br><span class="line">               $("#username").css("border","");</span><br><span class="line">           &#125;else &#123;//如果不符合，就弹出红边框</span><br><span class="line">                $("#username").css("border","1px solid red");</span><br><span class="line">           &#125;</span><br><span class="line">           return flag;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></li>
<li>密码：单词字符，8到20位<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var red_username = /^\w&#123;8,20&#125;$/;</span><br></pre></td></tr></table></figure></li>
<li>email：邮件格式<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var reg_email = /^\w+@\w+\.\w+$/;</span><br></pre></td></tr></table></figure></li>
<li>姓名：非空<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var reg_name= /^\s*$/g;</span><br></pre></td></tr></table></figure></li>
<li>手机号：11位<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/^1(?:3\d|4[4-9]|5[0-35-9]|6[67]|7[013-8]|8\d|9\d)\d&#123;8&#125;$/</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="2">
<li>要将jquery放在js文件夹下，浏览器才能接受到jquery资源</li>
<li>正则表达式，常常用来规定数据的输入格式，用于表单校验</li>
</ol>
<table>
<thead>
<tr>
<th>字符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>\</td>
<td>将下一个字符标记为一个特殊字符、或一个原义字符、或一个向后引用、或一个八进制转义符。例如，“n”匹配字符“n”。“\n”匹配一个换行符。串行“\”匹配“\”而“(”则匹配“(”。</td>
</tr>
<tr>
<td>^</td>
<td>匹配输入字符串的开始位置。如果设置了RegExp对象的Multiline属性，^也匹配“\n”或“\r”之后的位置。</td>
</tr>
<tr>
<td>$</td>
<td>匹配输入字符串的结束位置。如果设置了RegExp对象的Multiline属性，$也匹配“\n”或“\r”之前的位置。</td>
</tr>
<tr>
<td>*</td>
<td>匹配前面的子表达式零次或多次。例如，zo<em>能匹配“z”以及“zoo”。</em>等价于{0,}。</td>
</tr>
<tr>
<td>+</td>
<td>匹配前面的子表达式一次或多次。例如，“zo+”能匹配“zo”以及“zoo”，但不能匹配“z”。+等价于{1,}。</td>
</tr>
<tr>
<td>?</td>
<td>匹配前面的子表达式零次或一次。例如，“do(es)?”可以匹配“does”或“does”中的“do”。?等价于{0,1}。</td>
</tr>
<tr>
<td>{n}</td>
<td>n是一个非负整数。匹配确定的n次。例如，“o{2}”不能匹配“Bob”中的“o”，但是能匹配“food”中的两个o。</td>
</tr>
<tr>
<td>{n,}</td>
<td>n是一个非负整数。至少匹配n次。例如，“o{2,}”不能匹配“Bob”中的“o”，但能匹配“foooood”中的所有o。“o{1,}”等价于“o+”。“o{0,}”则等价于“o*”。</td>
</tr>
<tr>
<td>{n,m}</td>
<td>m和n均为非负整数，其中n&lt;=m。最少匹配n次且最多匹配m次。例如，“o{1,3}”将匹配“fooooood”中的前三个o。“o{0,1}”等价于“o?”。请注意在逗号和两个数之间不能有空格。</td>
</tr>
<tr>
<td>?</td>
<td>当该字符紧跟在任何一个其他限制符（*,+,?，{n}，{n,}，{n,m}）后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串“oooo”，“o+?”将匹配单个“o”，而“o+”将匹配所有“o”。</td>
</tr>
<tr>
<td>.</td>
<td>匹配除“\n”之外的任何单个字符。要匹配包括“\n”在内的任何字符，请使用像“(.</td>
</tr>
<tr>
<td>(pattern)</td>
<td>匹配pattern并获取这一匹配。所获取的匹配可以从产生的Matches集合得到，在VBScript中使用SubMatches集合，在JScript中则使用$0…$9属性。要匹配圆括号字符，请使用“(”或“)”</td>
</tr>
<tr>
<td>(?:pattern)</td>
<td>匹配pattern但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用或字符“(</td>
</tr>
<tr>
<td>(?=pattern)</td>
<td>正向肯定预查，在任何匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如，“Windows(?=95</td>
</tr>
<tr>
<td>(?!pattern)</td>
<td>正向否定预查，在任何不匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如“Windows(?!95</td>
</tr>
<tr>
<td>(?&lt;=pattern)</td>
<td>反向肯定预查，与正向肯定预查类拟，只是方向相反。例如，“(?&lt;=95</td>
</tr>
<tr>
<td>(?&lt;!pattern)</td>
<td>反向否定预查，与正向否定预查类拟，只是方向相反。例如“(?&lt;!95</td>
</tr>
<tr>
<td>x&#124;y</td>
<td>匹配x或y。例如，“z</td>
</tr>
<tr>
<td>[xyz]</td>
<td>字符集合。匹配所包含的任意一个字符。例如，“[abc]”可以匹配“plain”中的“a”</td>
</tr>
<tr>
<td>[^xyz]</td>
<td>负值字符集合。匹配未包含的任意字符。例如，“[^abc]”可以匹配“plain”中的“p”。</td>
</tr>
<tr>
<td>[a-z]</td>
<td>字符范围。匹配指定范围内的任意字符。例如，“[a-z]”可以匹配“a”到“z”范围内的任意小写字母字符。</td>
</tr>
<tr>
<td>[^a-z]</td>
<td>负值字符范围。匹配任何不在指定范围内的任意字符。例如，“[^a-z]”可以匹配任何不在“a”到“z”范围内的任意字符</td>
</tr>
<tr>
<td>\b</td>
<td>匹配一个单词边界，也就是指单词和空格间的位置。例如，“er\b”可以匹配“never”中的“er”，但不能匹配“verb”中的“er”。</td>
</tr>
<tr>
<td>\B</td>
<td>匹配非单词边界。“er\B”能匹配“verb”中的“er”，但不能匹配“never”中的“er”。</td>
</tr>
<tr>
<td>\cx</td>
<td>匹配由x指明的控制字符。例如，\cM匹配一个Control-M或回车符。x的值必须为A-Z或a-z之一。否则，将c视为一个原义的“c”字符。</td>
</tr>
<tr>
<td>\d</td>
<td>匹配一个数字字符。等价于[0-9]。</td>
</tr>
<tr>
<td>\D</td>
<td>匹配一个非数字字符。等价于[^0-9]。</td>
</tr>
<tr>
<td>\f</td>
<td>匹配一个换页符。等价于\x0c和\cL。</td>
</tr>
<tr>
<td>\n</td>
<td>匹配一个换行符。等价于\x0a和\cJ。</td>
</tr>
<tr>
<td>\r</td>
<td>匹配一个回车符。等价于\x0d和\cM。</td>
</tr>
<tr>
<td>\s</td>
<td>匹配任何空白字符，包括空格、制表符、换页符等等。等价于[ \f\n\r\t\v]。</td>
</tr>
<tr>
<td>\S</td>
<td>匹配任何非空白字符。等价于[^ \f\n\r\t\v]。</td>
</tr>
<tr>
<td>\t</td>
<td>匹配一个制表符。等价于\x09和\cI。</td>
</tr>
<tr>
<td>\v</td>
<td>匹配一个垂直制表符。等价于\x0b和\cK。</td>
</tr>
<tr>
<td>\w</td>
<td>匹配包括下划线的任何单词字符。等价于“[A-Za-z0-9_]”。</td>
</tr>
<tr>
<td>\W</td>
<td>匹配任何非单词字符。等价于“[^A-Za-z0-9_]”。</td>
</tr>
<tr>
<td>\xn</td>
<td>匹配n，其中n为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，“\x41”匹配“A”。“\x041”则等价于“\x04&amp;1”。正则表达式中可以使用ASCII编码。.</td>
</tr>
<tr>
<td>\num</td>
<td>匹配num，其中num是一个正整数。对所获取的匹配的引用。例如，“(.)\1”匹配两个连续的相同字符。</td>
</tr>
<tr>
<td>\n</td>
<td>标识一个八进制转义值或一个向后引用。如果\n之前至少n个获取的子表达式，则n为向后引用。否则，如果n为八进制数字（0-7），则n为一个八进制转义值。</td>
</tr>
<tr>
<td>\nm</td>
<td>标识一个八进制转义值或一个向后引用。如果\nm之前至少有nm个获得子表达式，则nm为向后引用。如果\nm之前至少有n个获取，则n为一个后跟文字m的向后引用。如果前面的条件都不满足，若n和m均为八进制数字（0-7），则\nm将匹配八进制转义值nm。</td>
</tr>
<tr>
<td>\nml</td>
<td>如果n为八进制数字（0-3），且m和l均为八进制数字（0-7），则匹配八进制转义值nml。</td>
</tr>
<tr>
<td>\un</td>
<td>匹配n，其中n是一个用四个十六进制数字表示的Unicode字符。例如，\u00A9匹配版权符号（©）。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>常用正则表达式</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>用户名</td>
<td>/^[a-z0-9_-]{3,16}$/</td>
</tr>
<tr>
<td>密码</td>
<td>/^[a-z0-9_-]{6,18}$/</td>
</tr>
<tr>
<td>十六进制值</td>
<td>/^#?([a-f0-9]{6}</td>
</tr>
<tr>
<td>电子邮箱</td>
<td>/^([a-z0-9_.-]+)@([\da-z.-]+).([a-z.]{2,6})$/</td>
</tr>
<tr>
<td>/^[a-z\d]+(.[a-z\d]+)*@(<a href="-[\da-z]">\da-z</a>?)+(.{1,2}[a-z]+)+$/</td>
<td></td>
</tr>
<tr>
<td>URL</td>
<td>/^(https?://)?([\da-z.-]+).([a-z.]{2,6})([/\w .-]<em>)</em>/?$/</td>
</tr>
<tr>
<td>IP 地址</td>
<td>/((2[0-4]\d</td>
</tr>
<tr>
<td>/^(?:(?:25[0-5]</td>
<td>2[0-4][0-9]</td>
</tr>
<tr>
<td>HTML 标签</td>
<td>/^&lt;([a-z]+)([^&lt;]+)<em>(?:&gt;(.</em>)&lt;/\1&gt;</td>
</tr>
<tr>
<td>删除代码\注释</td>
<td>(?&lt;!http:</td>
</tr>
<tr>
<td>Unicode编码中的汉字范围</td>
<td>/^[\u2E80-\u9FFF]+$/</td>
</tr>
</tbody></table>
<ol start="4">
<li><p>js:JavaScript是一种属于网络的脚本语言,已经被广泛用于Web应用开发,常用来为网页添加各式各样的动态功能,为用户提供更流畅美观的浏览效果。通常JavaScript脚本是通过嵌入在HTML中来实现自身的功能的。<br>是一种解释性脚本语言（代码不进行预编译）。<br>主要用来向HTML（标准通用标记语言下的一个应用）页面添加交互行为。]<br>可以直接嵌入HTML页面，但写成单独的js文件有利于结构和行为的分离。<br>跨平台特性，在绝大多数浏览器的支持下，可以在多种平台下运行（如Windows、Linux、Mac、Android、iOS等）。<br>Javascript脚本语言同其他语言一样，有它自身的基本数据类型，表达式和算术运算符及程序的基本程序框架。Javascript提供了四种基本的数据类型和两种特殊数据类型用来处理数据和文字。而变量提供存放信息的地方，表达式则可以完成较复杂的信息处理。<br>可以实现web页面的人机交互。<br>日常用途编辑<br>嵌入动态文本于HTML页面。<br>对浏览器事件做出响应。<br>读写HTML元素。<br>在数据被提交到服务器之前验证数据。<br>检测访客的浏览器信息。<br>控制cookies，包括创建和修改等。<br>基于Node.js技术进行服务器端编程。</p>
</li>
<li><p>Ajax 即“Asynchronous JavascriptAndXML”（异步JavaScript和XML），是指一种创建交互式、快速动态网页应用的网页开发技术，无需重新加载整个网页的情况下，能够更新部分网页的技术。通过在后台与服务器进行少量数据交换，Ajax可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$.post("registUserServlet",$(this).serialize(),function (data) &#123;</span><br></pre></td></tr></table></figure>
<p>serialize是序列化函数，能将表单的数据转为键值对形式的数据<br>在这里使用Ajax是因为前端使用的是html作为视图层，不能直接获取到服务器的数据，要用Ajax的方式获取数据</p>
</li>
<li><p>注册页面的编写，可以大致将页面分为三个部分，头部，注册表单，尾部，其中头部和尾部可以分别编写html文件，再在regist中引用。登录，注册等按钮的功能可以使用href超链接，转到响应的功能页面，进行相关的操作。</p>
</li>
<li><p>session:Session 是 用于保持状态的基于Web服务器的方法。Session允许通过将对象存储在Web服务器的内存中在整个用户会话过程中保持任何对象。<br>Session通常用于执行以下操作<br>存储需要在整个用户会话过程中保持其状态的信息，例如登录信息或用户浏览Web应用程序时需要的其它信息。<br>存储只需要在页面重新加载过程中或按功能分组的一组页之间保持其状态的对象。<br>Session的作用就是它在Web服务器上保持用户的状态信息供在任何时间从任何设备上的页面进行访问。因为浏览器不需要存储任何这种信息，所以可以使用任何浏览器，即使是像Pad或手机这样的浏览器设备。这里用session来验证验证码</p>
</li>
</ol>
<h3 id="后台处理"><a href="#后台处理" class="headerlink" title="后台处理"></a>后台处理</h3><ol>
<li>Servlet:</li>
</ol>
<h2 id="用到的技术"><a href="#用到的技术" class="headerlink" title="用到的技术"></a>用到的技术</h2><ol>
<li><a href="#Jquery">Jquery</a></li>
<li><a href="#Ajax">Ajax</a></li>
<li><a href="#Servlet">Servlet</a></li>
</ol>
<h1 id="JQuery"><a href="#JQuery" class="headerlink" title="JQuery"></a>JQuery</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>jQuery是一个快速、简洁的JavaScript框架，是继Prototype之后又一个优秀的JavaScript代码库（或JavaScript框架）。jQuery设计的宗旨是“write Less，Do More”，即倡导写更少的代码，做更多的事情。它封装JavaScript常用的功能代码，提供一种简便的JavaScript设计模式，优化HTML的DOM操作、事件处理、动画设计和Ajax交互。本质上是将一些JavaScript的重复操作进行封装，供用户调用。</p>
<h2 id="使用前要将jquery-3-3-1-min-js导入到项目中。"><a href="#使用前要将jquery-3-3-1-min-js导入到项目中。" class="headerlink" title="使用前要将jquery-3.3.1.min.js导入到项目中。"></a>使用前要将jquery-3.3.1.min.js导入到项目中。</h2><h2 id="JQuery对象和js对象的互相转换"><a href="#JQuery对象和js对象的互相转换" class="headerlink" title="JQuery对象和js对象的互相转换"></a>JQuery对象和js对象的互相转换</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="comment">//js</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> divs = <span class="built_in">document</span>.getElemByTagName(<span class="string">"div"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="comment">//jquery</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> $divs = $(<span class="string">"div"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="comment">//将两者的内容替换为“aaa”</span></span></span><br><span class="line"><span class="actionscript"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;divs.lenght;i++)&#123;</span></span><br><span class="line"><span class="actionscript">	divs[i].innerHtml(<span class="string">"aaa"</span>);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript"><span class="comment">//jquery</span></span></span><br><span class="line"><span class="javascript">$(<span class="string">"div"</span>).html(<span class="string">"aaa"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="comment">//由此可见，jquery的方法简便许多，而js的方法重复性非常高，但是jquery方法只能由jquery对象使用，js无法使用，所以就需要两者之间的转换</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="comment">//js--&gt;jquery</span></span></span><br><span class="line"><span class="javascript">$(js对象)</span></span><br><span class="line"><span class="actionscript"><span class="comment">//jquery--&gt;js</span></span></span><br><span class="line">jq对象.get(索引)或者jq对象[索引]</span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="comment">//上面两行代码可以改写为</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//js--&gt;jquery</span></span></span><br><span class="line"><span class="javascript">$(divs).html(<span class="string">"aaa"</span>);</span></span><br><span class="line"><span class="actionscript"><span class="comment">//jquery--&gt;js</span></span></span><br><span class="line"><span class="actionscript">$divs.get[<span class="number">0</span>].innerHtml(<span class="string">"aaa"</span>);</span></span><br><span class="line"><span class="actionscript">$divs[<span class="number">0</span>].innerHtml(<span class="string">"aaa"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h2 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h2><p>1.</p>
<ul>
<li>事件绑定：在方法中内嵌一个function对象。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$("#id").click(function()&#123;</span><br><span class="line">	alert("adfa");</span><br><span class="line">	&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>入口函数：等页面加载完成后再进入入口函数的内容，=window.onload()<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(function()&#123;</span><br><span class="line"></span><br><span class="line">	&#125;)</span><br></pre></td></tr></table></figure>
两者的区别是onload只能绑定一次，而$可以绑定多次</li>
<li>样式控制：就是通过.css方法修改元素的css样式<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(function()&#123;</span><br><span class="line">	$("#id"),css("background","red");</span><br><span class="line">	&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<ol start="2">
<li><p><a href="https://www.runoob.com/jquery/jquery-ref-selectors.html" target="_blank" rel="noopener">选择器语法</a></p>
</li>
<li><p>分类：（具体语法在上面的超链接中）</p>
</li>
</ol>
<ul>
<li><p>基本选择器：<br>标签选择器：$(“html标签名”),获得所有匹配标签名的元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$("div")获取当前页面中的所有div元素</span><br></pre></td></tr></table></figure>
<p>id选择器：$(“#id名”)，获得所有匹配id的元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$("#btn")获取所有id值为btn的元素</span><br></pre></td></tr></table></figure>
<p>类选择器：$(“.类的属性值”)，获得所有匹配类名的元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(".hanahn")获得所有类的属性值与hanahn匹配的元素</span><br></pre></td></tr></table></figure>
<p>中间加个逗号就可以选择多个条件。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$("#two,span")//选择id=two和span内的所有元素</span><br></pre></td></tr></table></figure>
</li>
<li><p>层级选择器：<br>后代选择器：$(“A B”),获得A中的所有B元素，相当获取儿子辈和孙子辈的所有元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$("body span")获得body里的所有span元素</span><br></pre></td></tr></table></figure>
<p>子选择器：$(“A &gt; B”)，获得A中的所有B子元素，相当只获取儿子辈的</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$("body &gt; span"),获得body里的儿子级别的span元素</span><br></pre></td></tr></table></figure>
</li>
<li><p>属性选择器：<br>属性名称选择器：选择指定属性名且含有名叫XX属性的元素，属性值不管</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$("div[color]").css选择div元素，且div元素中有属性叫color的元素</span><br></pre></td></tr></table></figure>
<p>属性选择器：选择指定属性=指定值的元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$("div[color='red']")获得div元素，且元素的color属性=red的元素</span><br></pre></td></tr></table></figure>
<p>属性复合选择器：包含多个属性条件的元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$("div[color='red'][display]")，获得div元素，且满足color=red&amp;&amp;有display属性的元素</span><br><span class="line">此外还有类似正则的写法</span><br><span class="line">$("div[color!='red']")，获得div元素，且满足color不等于red的元素</span><br><span class="line">$("div[color^='r']")，获得div元素，且满足color的开头=r的元素</span><br><span class="line">$("div[color$='d']")，获得div元素，且满足color的结尾=d的元素</span><br><span class="line">$("div[color*='d']")，获得div元素，且满足color的内容含有d的元素</span><br></pre></td></tr></table></figure>
</li>
<li><p>过滤选择器：<br>首元素选择器： A:first 获得选择元素的第一个元素<br>尾元素选择器： A:last 获得选择元素的最后一个元素<br>非元素选择器： A:not(条件) 不包括指定内容的元素，条件也是用选择器语法写的</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$("div:not(.one)")//选择class！=one的元素</span><br></pre></td></tr></table></figure>
<p>偶数选择器： A:even 从0计数<br>奇数选择器： A:odd 从0计数<br>等于索引选择器：A:eq(index) 等于指定索引的元素<br>大于索引选择器： A:gt(index) 大于指定索引的元素<br>等于索引选择器： A:lt(index) 小于指定索引的元素<br>标题选择器: header () 获得标题为(h1~h6)的元素</p>
</li>
<li><p>表单过滤选择器<br>可用元素选择器： :enabled 获得可用元素<br>不可用元素选择器： :disabled 获得不可用元素<br>选中选择器： :checked 获得单选/复选框中的元素<br>选中选择器： selected 获得下拉框中的元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> 注意下拉框选中的个数要获取select的子元素，option才能获取选中个数</span><br><span class="line">$("#b4").click(function () &#123;</span><br><span class="line">				alert($("select[name='job'] &gt; option:selected").length);</span><br><span class="line"></span><br><span class="line">			&#125;)</span><br></pre></td></tr></table></figure>


</li>
</ul>
<ol start="4">
<li>DOM操作<ul>
<li>内容操作：val获取值，text获取纯文本，html获取标签之间的内容<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(function () &#123;</span><br><span class="line">       var value = $("#myInput").val();//val获取value值</span><br><span class="line">       alert(value);</span><br><span class="line">       var html = $("#myDiv").html();//获取div间的所有元素，不止包括纯文本和标签</span><br><span class="line">       alert(html);</span><br><span class="line">        // var html = $("#myDiv").html("aaaa");//获取div间的所有元素，还可以更改标签内的内容，甚至可以写新标签</span><br><span class="line">        var text = $("#myDiv").text();</span><br><span class="line">        document.write(text);//获取div间的纯文本，不包括标签</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure></li>
<li>属性操作：attr获取/设置值，removeAttr删除属性，prop获取/设置值，removeProp删除属性,attr和prop区别，如果是操作的标签的固有属性，用prop，用的是自定义属性，用attr<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$(function () &#123;</span><br><span class="line">        var name = $("#bj").attr("name");</span><br><span class="line">        alert(name);</span><br><span class="line">       $("#bj").attr("name","北京");</span><br><span class="line">        var name1 = $("#bj").attr("name");</span><br><span class="line">            alert(name1);</span><br><span class="line">        $("#bj").attr("discription","帝都");</span><br><span class="line">        $("#bj").removeAttr("discription");</span><br><span class="line">        var check= $("#hobby").prop("checked");</span><br><span class="line">        alert(check);</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure></li>
<li>class属性操作：addclass，增加属性，removeclass，删除属性，toggleclass如果有这个属性存在就删除，没有就创建。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">$(function () &#123;</span><br><span class="line">		    	//<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"采用属性增加样式(改变id=one的样式)"</span>  <span class="attr">id</span>=<span class="string">"b1"</span>/&gt;</span></span><br><span class="line">			$("#b1").click(function () &#123;</span><br><span class="line">				$("#one").prop("class","second");</span><br><span class="line">			&#125;)</span><br><span class="line">			//<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"采用属性增加样式(改变id=one的样式)"</span>  <span class="attr">id</span>=<span class="string">"b1"</span>/&gt;</span></span><br><span class="line">			$("#b2").click(function () &#123;</span><br><span class="line">				$("#one").addClass("second");</span><br><span class="line">			&#125;)</span><br><span class="line">			//<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"removeClass"</span>  <span class="attr">id</span>=<span class="string">"b3"</span>/&gt;</span></span><br><span class="line">			$("#b3").click(function () &#123;</span><br><span class="line">				$("#one").removeClass("second");</span><br><span class="line">			&#125;)</span><br><span class="line">			//<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">" 切换样式"</span>  <span class="attr">id</span>=<span class="string">"b4"</span>/&gt;</span></span><br><span class="line">			$("#b4").click(function () &#123;</span><br><span class="line">				$("#one").toggleClass("second");</span><br><span class="line">			&#125;)</span><br><span class="line">			//<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">" 通过css()获得id为one背景颜色"</span>  <span class="attr">id</span>=<span class="string">"b5"</span>/&gt;</span></span><br><span class="line">			$("#b5").click(function () &#123;</span><br><span class="line">				$("#one").css("backgroundColor");//一个参数是获取对应的值，两个是设置参数的值</span><br><span class="line">			&#125;)</span><br><span class="line">			//	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">" 通过css()设置id为one背景颜色为绿色"</span>  <span class="attr">id</span>=<span class="string">"b6"</span>/&gt;</span></span><br><span class="line">			$("#b6").click(function () &#123;</span><br><span class="line">				$("#one").css("background","green");</span><br><span class="line">			&#125;)</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure></li>
<li>CRUD：append和prepend元素是父子关系，before和after元素是兄弟关系。remove删除元素，empty清空元素<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">$(function () &#123;</span><br><span class="line">		 // <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"将反恐放置到city的后面"</span>  <span class="attr">id</span>=<span class="string">"b1"</span>/&gt;</span></span><br><span class="line">			 $("#b1").click(function () &#123;//append和prepend元素是父子关系</span><br><span class="line">			 	//append,将对象2放在对象1的后面</span><br><span class="line">				//  $("#city").append($("#fk"));</span><br><span class="line">				 //appendTo,将对象1放在对象2后面</span><br><span class="line">				 // $("#fk").appendTo($("#city"))</span><br><span class="line">			 &#125;)</span><br><span class="line">			 // <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"将反恐放置到city的最前面"</span>  <span class="attr">id</span>=<span class="string">"b2"</span>/&gt;</span></span><br><span class="line">			 //prepend</span><br><span class="line">			 // $("#b2").click(function () &#123;</span><br><span class="line">			 // 	$("#city").prepend($("#fk"));</span><br><span class="line">			 // &#125;)</span><br><span class="line">			 //prependTo</span><br><span class="line">			 // $("#b2").click(function () &#123;</span><br><span class="line">			 // 	$("#fk").prependTo($("#city"));</span><br><span class="line">			 // &#125;)</span><br><span class="line">			 // <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"将反恐插入到天津后面"</span>  <span class="attr">id</span>=<span class="string">"b3"</span>/&gt;</span></span><br><span class="line">			 //insert和after元素是兄弟关系</span><br><span class="line">			 //after</span><br><span class="line">			 // $("#b3").click(function () &#123;</span><br><span class="line">			 // 	$("#tj").after($("#fk"));</span><br><span class="line">			 // &#125;)</span><br><span class="line">			 //insertAfter</span><br><span class="line">			 // $("#b3").click(function () &#123;</span><br><span class="line">				//  $("#fk").insertAfter($("#tj"));</span><br><span class="line">			 // &#125;)</span><br><span class="line">			 // <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"将反恐插入到天津前面"</span>  <span class="attr">id</span>=<span class="string">"b4"</span>/&gt;</span></span><br><span class="line">			 //before和insertBefore即可</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ol>
<p>##动画和遍历</p>
<ol>
<li>动画的三种隐藏方式</li>
</ol>
<ul>
<li>默认显示和隐藏元素<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">speed有三种默认值，fast，slow，normal，或者自定义毫秒数，控制动画的速度</span><br><span class="line">easing swing linear swing是先慢再快在慢 linear就是线性匀速的</span><br><span class="line">fn是动画完成时执行的函数，每个元素执行一次</span><br><span class="line">show(speed,easing,fn)</span><br><span class="line">hide(speed,easing,fn)</span><br><span class="line">toggle(speed,easing,fn)</span><br></pre></td></tr></table></figure></li>
<li>滑动显示和隐藏<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">slideDown(speed,easing,fn)</span><br><span class="line">slideUp(speed,easing,fn)</span><br><span class="line">slideToggle(speed,easing,fn)</span><br></pre></td></tr></table></figure></li>
<li>淡入淡出显示和隐藏<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fadeIn(speed,easing,fn)</span><br><span class="line">fadeOut(speed,easing,fn)</span><br><span class="line">fadeToggle(speed,easing,fn)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ol start="2">
<li>遍历</li>
</ol>
<ul>
<li>js的遍历<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">for(初始值，条件；自增长度)</span><br><span class="line">//js的遍历方式</span><br><span class="line">                //首先拿到ul下的所有值，用选择器，并存放到数组中去</span><br><span class="line">                var cities = $("#city li");//返回的对象相当于数组，可以使用下标</span><br><span class="line">               //  for (var i=0;i<span class="tag">&lt;<span class="name">cities.length;i++)&#123;</span></span></span><br><span class="line"><span class="tag">               //      <span class="attr">alert</span>(<span class="attr">cities</span>[<span class="attr">i</span>]<span class="attr">.innerHTML</span>);</span></span><br><span class="line"><span class="tag">               //  &#125;</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">                //<span class="attr">1.</span> <span class="attr">jq</span>对象<span class="attr">.each</span>(<span class="attr">callback</span>)<span class="attr">callback</span>是回调函数</span></span><br><span class="line"><span class="tag">                // $("#<span class="attr">city</span> <span class="attr">li</span>")<span class="attr">.each</span>(<span class="attr">function</span> (<span class="attr">index</span>,<span class="attr">element</span>) &#123;//可以在回调函数里定义相关操作</span></span><br><span class="line"><span class="tag">                //     // <span class="attr">alert</span>(<span class="attr">this.innerHTML</span>);//<span class="attr">this</span>表示当前对象</span></span><br><span class="line"><span class="tag">                //     //如果想要获取索引值，可以在函数参数列表中加入参数</span></span><br><span class="line"><span class="tag">                //     //<span class="attr">2.</span>还可以定义为<span class="attr">jq</span>对象可以调用更多的方法</span></span><br><span class="line"><span class="tag">                //     <span class="attr">alert</span>($(<span class="attr">element</span>)<span class="attr">.html</span>()+<span class="attr">index</span>);</span></span><br><span class="line"><span class="tag">                // &#125;)</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">                //$<span class="attr">.each</span></span></span><br><span class="line"><span class="tag">                // $<span class="attr">.each</span>(<span class="attr">cities</span>,<span class="attr">function</span> () &#123;//首先要获取要遍历的对象</span></span><br><span class="line"><span class="tag">                //     <span class="attr">alert</span>($(<span class="attr">this</span>)<span class="attr">.html</span>());</span></span><br><span class="line"><span class="tag">                // &#125;)</span></span><br><span class="line"><span class="tag"></span></span><br><span class="line"><span class="tag">                //<span class="attr">for</span>方式</span></span><br><span class="line"><span class="tag">                <span class="attr">for</span> (<span class="attr">li</span> <span class="attr">of</span> <span class="attr">cities</span>)&#123;//同上，也要先定义遍历对象</span></span><br><span class="line"><span class="tag">                    <span class="attr">alert</span>($(<span class="attr">li</span>)<span class="attr">.html</span>());</span></span><br><span class="line"><span class="tag">                &#125;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>##事件绑定</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//标准绑定</span><br><span class="line">jq对象.事件方法(回调函数)</span><br><span class="line">//链式编程，简化一个标签绑定多个操作的书写</span><br><span class="line">           //  $("#name").mouseover(function () &#123;</span><br><span class="line">            //      alert("来了");</span><br><span class="line">            //  &#125;).mouseout(function () &#123;</span><br><span class="line">            //      alert("zoule");</span><br><span class="line">            //  &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//onoff绑定</span><br><span class="line">jq对象.on("事件名称"，回调函数)</span><br><span class="line">jq对象.off("事件名称"，回调函数)</span><br><span class="line"></span><br><span class="line">$("#btn3").toggle(function () &#123;//1.9之后的版本是步支持toggle方法的，可以添加插件来解决jquery-migrate-1.0.0.js</span><br><span class="line">                $("#div").css("backgroundColor","pink");</span><br><span class="line">            &#125;,function () &#123;</span><br><span class="line">                $("#div").css("backgroundColor","green");</span><br><span class="line">            &#125;);</span><br><span class="line">//事件切换</span><br><span class="line">jq对象.toggle(fn1,fn2)</span><br></pre></td></tr></table></figure>



<h1 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h1><ol>
<li><p>原生js实现ajax</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">function fun() &#123;</span><br><span class="line">        var xmlHttp;</span><br><span class="line">        if (window.XMLHttpRequest)&#123;</span><br><span class="line">            //code for IE7+,chrome, firefox,Safari</span><br><span class="line">            xmlHttp = new XMLHttpRequest();</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            //code for IE6 IE5</span><br><span class="line">            xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");</span><br><span class="line">        &#125;</span><br><span class="line">        //建立连接</span><br><span class="line">        /*</span><br><span class="line">        * 第一个参数是请求方法</span><br><span class="line">        *       get方法参数在URL的后面，send为空</span><br><span class="line">        *       post方法参数在send方法里面</span><br><span class="line">        * 第二个是请求URL</span><br><span class="line">        * 第三个是同步或异步请求（true是异步，false是同步）</span><br><span class="line">        * */</span><br><span class="line">        xmlHttp.open("GET","AJAXServlet?username=delisha",true);</span><br><span class="line"></span><br><span class="line">        //发送请求</span><br><span class="line">        xmlHttp.send();</span><br><span class="line"></span><br><span class="line">        //接受并处理来自服务器的响应</span><br><span class="line">        //获取方式，xmlHTTP.responseText</span><br><span class="line">        //当服务器响应之后获取</span><br><span class="line"></span><br><span class="line">        xmlHttp.onreadystatechange=function () &#123;</span><br><span class="line">            if (xmlHttp.readyState==4 &amp;&amp; xmlHttp.status==200)&#123;</span><br><span class="line">                //获取服务器的响应结果</span><br><span class="line">                var responseText = xmlHttp.responseText;</span><br><span class="line">                alert(responseText);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Jquery实现，jQuery有三种，分别是$.ajax $.GET $POST</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;//只要记住几个常用的参数即可，每个参数之间要用逗号分割，最后一个不需要加逗号</span><br><span class="line">	url:"ajaxServlet",   //请求路径</span><br><span class="line">	type:"POST",    //不写默认是GET</span><br><span class="line">	data:"username=jaxck&amp;password=a",   //请求参数</span><br><span class="line">	//还有一种写法，推荐使用第二种，类似json的键值对</span><br><span class="line">	data:&#123;"username":"jaxck","password":"a"&#125;</span><br><span class="line">	success:function(data)&#123;//data是变量，用来接受服务器返回的数据，即json、</span><br><span class="line">		alert(data.flag);</span><br><span class="line">	&#125;,</span><br><span class="line">	error:function()&#123;//响应出错时执行的操作</span><br><span class="line">		alert("error!")</span><br><span class="line">	&#125;,</span><br><span class="line">	dataType:"json"  //指定服务器返回的数据类型</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$.GET(url,&#123;data&#125;,function()&#123;&#125;,type)</span><br><span class="line">//url,请求路径</span><br><span class="line">//data，请求参数,格式时&#123;username:"jack"&#125;</span><br><span class="line">//function，回调函数</span><br><span class="line">//type，返回数据类型	</span><br><span class="line"></span><br><span class="line">POST只要把GET改以下即可，其他参数一样</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>#Json</p>
<h2 id="概念：JavaScript-object-notation-JavaScript对象表示法-，作用类似于Java中的实体类，用来封装数据的。现在多用于存储和交换信息，类似xml，但比xml更小，更快，更易解析"><a href="#概念：JavaScript-object-notation-JavaScript对象表示法-，作用类似于Java中的实体类，用来封装数据的。现在多用于存储和交换信息，类似xml，但比xml更小，更快，更易解析" class="headerlink" title="概念：JavaScript object notation(JavaScript对象表示法)，作用类似于Java中的实体类，用来封装数据的。现在多用于存储和交换信息，类似xml，但比xml更小，更快，更易解析"></a>概念：JavaScript object notation(JavaScript对象表示法)，作用类似于Java中的实体类，用来封装数据的。现在多用于存储和交换信息，类似xml，但比xml更小，更快，更易解析</h2><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><ol>
<li>基本规则，数据在名称/值对中（名称和值都用引号括起来），数据由逗号分割，花括号保存对象，方括号保存数组<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//取值类型由以下几种</span></span><br><span class="line">数字：整数或浮点数</span><br><span class="line">字符串：在双引号中</span><br><span class="line">逻辑值：true或者false</span><br><span class="line">数组：用方括号 &#123;"provience":[&#123;&#125;,&#123;&#125;]&#125;</span><br><span class="line">对象：用花括号  &#123;"China":&#123;"provience":"jiangsu","asfd":"dsaf"&#125;&#125;</span><br><span class="line">null</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>##json数据的获取</p>
<ol>
<li>json对象.键名</li>
<li>json对象[“键名”]</li>
<li>数组对象[]</li>
</ol>
<p>##json和Java对象的互相转换</p>
<ol>
<li>在服务器和浏览器之间需要一个数据交换的载体，就是json，但是服务器如果用Java语言编写，就不能解析json数据，因为json是js的，得通过Jackson转为实体类，在通过Dao与数据库之间相互交换数据</li>
<li>Java转JSON<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.建立实体类</span></span><br><span class="line">Person p = new Person();</span><br><span class="line"><span class="comment">//2.赋值</span></span><br><span class="line">p.setName("hanahn");</span><br><span class="line"><span class="comment">//3.转换方法</span></span><br><span class="line"><span class="comment">//3.1创建核心类</span></span><br><span class="line">ObjectMapper objectMapper = new ObjectMapper();</span><br><span class="line">objectMapper.write(参数1, obj)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">参数1：</span></span><br><span class="line"><span class="comment">	File：将obj转为字符串，并写入到文件中</span></span><br><span class="line"><span class="comment">	Writer：将obj转为字符串，并写入到字符输出流中</span></span><br><span class="line"><span class="comment">	OutPutStream：将obj转为字符串，并写入到字节输出流中</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">objectMapper.writeValueAsString(obj)</span><br><span class="line"><span class="comment">//将对象转为json字符串</span></span><br></pre></td></tr></table></figure></li>
<li>注解(要在实体类中的属性上加注解)</li>
</ol>
<ul>
<li>@JsonIgnore:在json字符串中忽略该属性<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">   privat eint age;</span><br><span class="line">   <span class="keyword">private</span> String gender;</span><br><span class="line">   <span class="comment">//@JsonIgnore//忽略该字符串</span></span><br><span class="line">   <span class="meta">@JsonFormat</span>(pattern = <span class="string">"yyyy-MM-dd"</span>)</span><br><span class="line">   <span class="keyword">private</span> Date brithday;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>@JsonFormat:给该属性指定格式</li>
</ul>
<ol start="4">
<li>json转java：和Java转json差不多，只是最后的方法是readvalue(json,class);<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String json = <span class="string">""</span>;<span class="comment">//json格式书写</span></span><br><span class="line">ObjectMapper objectMapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">objectMapper.readValue(json,Person<span class="class">.<span class="keyword">class</span>)</span>;</span><br></pre></td></tr></table></figure>


</li>
</ol>
<h1 id="navicat常用快捷键"><a href="#navicat常用快捷键" class="headerlink" title="navicat常用快捷键"></a>navicat常用快捷键</h1><p>ctrl+q 打开查询窗口<br>ctrl+/ 注释<br>ctrl +shift+/ 解除注释<br>ctrl+r 运行选中的SQL语句<br>ctrl+l 删除选中行内容<br>ctrl+d 复制当前行内容并粘贴到下一行<br>ctrl+w 关闭当前查询窗口</p>
<h1 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h1><ol>
<li>在使用导入的项目时，要重新写配置文件，更改数据库名称</li>
<li>在启动服务器前，要将JDBCUtils中的配置文件路径前面的/去掉，不然服务器会报错找不到配置文件<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InputStream is = JDBCUtils.class.getClassLoader().getResourceAsStream("druid.properties");</span><br></pre></td></tr></table></figure>







</li>
</ol>
<h2 id="后台代码"><a href="#后台代码" class="headerlink" title="后台代码"></a>后台代码</h2><ol>
<li>编写RegisetUser，UserService，Userservicelmpl，UserDao，UserDaolmpl</li>
<li>使用@webservelt替代xml注解时，会报错，因为没有导包，需要的包是javax.servlet.annotation.WebServlet，并且<version>3.0-alpha-1</version>servlet包必须是3.0以上版本才支持，最后重要的是还必须得导入tomcat得依赖包方法如下:</li>
</ol>
<ul>
<li>打开项目结构<br><img src="/2020/04/24/JAVAWeb/servlet.png" alt></li>
<li>点击模块右边的+号<br><img src="/2020/04/24/JAVAWeb/servlet1.png" alt></li>
<li>选择第二个库，然后选择tomcat即可<br><img src="/2020/04/24/JAVAWeb/servlet2.png" alt></li>
</ul>
<ol start="3">
<li>编写过滤器，统一字符编码</li>
<li>json的定义</li>
<li>项目启动失败的原因是没有导入tomcat的插件，导致一直启动失败。</li>
<li>直接导入的项目里的tomcat插件不能下载，从网上又找了一个插件<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">path</span>&gt;</span>/travel<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">port</span>&gt;</span>80<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">uriEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">uriEncoding</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure>



</li>
</ol>
<p>##JDBC</p>
<ol>
<li>JDBCUtils工具类的编写简化数据库相关操作</li>
<li>JDBC Template：JDBC的封装</li>
<li>druid时区错误，加上一段代码即可<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url=jdbc:mysql://127.0.0.1:3306/valkyries?serverTimezone=GMT%2B8</span><br></pre></td></tr></table></figure></li>
<li>validconnection 报错，是因为druid版本太低，在pom.xml中将其版本改为1.1.10<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>


</li>
</ol>
<h2 id="验证码"><a href="#验证码" class="headerlink" title="验证码"></a>验证码</h2><ol>
<li>首先在sevlet中创建验证码<br>用画笔对象，通过随机生成字符串函数创建验证码，写入session中，服务器从session中读取并验证</li>
<li>使用验证码时，要将表单提交的return值改为false，而不再是依赖checkusername&amp;&amp;checkname&amp;&amp;checkemail的返回值，因为这样的话只要表单符合<br>约束，就可以提交，这时是同步提交，而验证码是异步提交，所以得由post提交后由registerServlet判断是否正确，根据返回得值判断验证码是否正确</li>
</ol>
<p>##邮件激活</p>
<ol>
<li>邮箱激活：确保用户填写的邮箱是正确的，便于日后推广。</li>
<li>发送激活邮件，用户点击后就能验证，修改user里的status就能知道是否已经激活<br><img src="/2020/04/24/JAVAWeb/email.png" alt></li>
</ol>
<p>#登录和退出功能</p>
<ol>
<li>逻辑图<br><img src="/2020/04/24/JAVAWeb/login.png" alt></li>
<li>登录成功之后用location.href无法跳转，网上查阅资料后得知可能和表单的提交和href的执行先后有关，如果是用表单的提交的话，就像regist那样，在函数里return false 就能阻止表单提交，而login是用的button点击事件，不能用return false，用window.parent.Location.href=“xxxx”，就能提交，或者将按钮放在表单外，就可以不受表单提交的影响</li>
<li>登录成功后显示欢迎回来，+name，但是发现按照视频的写法失败，浏览器提示data is not definded和cannot property name of null，就是data为null，找不到。经百度查询，将script放在header的最后，但是没有用，并不是html元素未加载完全的原因。查询csdn，得知在findUserServlet中打印user，发现是null，也就是说session中根本没有user，即loginServlet中没有将user存入session中，因此，在login成功后，加上request.getSession().setAttribute(“user”,u);即可</li>
<li>退出：登录的实质就是指session中有user对象，这也映证了上面一个问题，退出就是访问servlet销毁session，跳转至登录页面</li>
</ol>
<p>#优化servlet</p>
<ol>
<li>减少servelt的数量，现在是一个功能一个servlet，可以优化功能为用户的方法，即数据库一张表对应一个servlet，具体功能写成方法<br><img src="/2020/04/24/JAVAWeb/BaseServlet.png" alt></li>
<li>BaseServlet继承HttpServlet，并重写service方法，这样当访问UserServlet时，就会调用BaseServlet中service进行方法分发，在去寻找UserServlet里的对应方法</li>
<li>改了路径后，页面的路径也要改动，改为user/方法名，注意serviceImpl里的邮件激活的路径也要改</li>
</ol>
<p>#分类数据展示功能<br><img src="/2020/04/24/JAVAWeb/category.png" alt></p>
<ol>
<li>又出现了bug，这次是因为categroy数组返回时，将data[i]写成了data，就变成了数组对象，当然显示不出名字。</li>
</ol>
<p>#旅游线路的分页展示</p>
<ol>
<li>注意使用非页展示使要将redis打开，不然会报timeout错误</li>
<li>特别注意，从github上复制的代码，前端一定要修改拼接字符串中的单引号，因为复制粘贴后就会又斜杆分隔符产生。</li>
</ol>
<h1 id="SQL数据库"><a href="#SQL数据库" class="headerlink" title="SQL数据库"></a>SQL数据库</h1><h2 id="数据库基本操作"><a href="#数据库基本操作" class="headerlink" title="数据库基本操作"></a>数据库基本操作</h2><ol>
<li>注释：–空格(单行注释)，/**/多行注释，#mysql独有</li>
<li>CRUD：增删改查，create，retrieve(查询)，update，delete<ul>
<li>创建数据库(create)<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--直接创建数据库</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> 数据库名;</span><br><span class="line"><span class="comment">--如果不存在数据库1就创建数据库2</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> <span class="keyword">if</span> <span class="keyword">not</span> esists db2;</span><br><span class="line"><span class="comment">--创建数据库并制定字符集</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> db3 <span class="keyword">default</span> <span class="built_in">character</span> <span class="keyword">set</span> gbk;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<ul>
<li>查看所有数据库<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line"><span class="comment">--查看某个数据库的定义信息</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">database</span> db3;</span><br></pre></td></tr></table></figure></li>
<li>修改数据库(alter)<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--修改数据库默认的字符集</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">database</span> 数据库名 <span class="keyword">default</span> <span class="built_in">character</span> 字符集;</span><br></pre></td></tr></table></figure></li>
<li>删除数据库(drop)<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--删除数据库3</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> db3;</span><br></pre></td></tr></table></figure></li>
<li>查看正在使用的数据库(select)<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--select是MySQL中的一个全局函数</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">database</span>()</span><br></pre></td></tr></table></figure></li>
<li>使用切换数据库(use),要想使用一个数据库，首先得确定当前使用的就是目标数据库，如果不是，就需要切换数据库<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> 数据库名</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="表的操作"><a href="#表的操作" class="headerlink" title="表的操作"></a>表的操作</h2><ol>
<li>对表操作前首先得选中一个数据库</li>
</ol>
<ul>
<li>创建表，注意是先写字段名再写字段类型，和编程的顺序不同，另外字段类型也不同，每个字段类型中间用逗号分隔,最后一个不需要逗号,表名后面是括号不是花括号<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名(</span><br><span class="line">	字段名<span class="number">1</span> 字段类型,</span><br><span class="line">	字段名<span class="number">2</span> 字段类型,</span><br><span class="line">	);</span><br><span class="line"><span class="comment">/*常用数据类型</span></span><br><span class="line"><span class="comment">int</span></span><br><span class="line"><span class="comment">double</span></span><br><span class="line"><span class="comment">varchar 字符串类型</span></span><br><span class="line"><span class="comment">date 日期类型格式为 yyyy-mm-dd</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
<table>
<thead>
<tr>
<th>Text类型</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>CHAR(size)</td>
<td>保存固定长度的字符串（可包含字母、数字以及特殊字符）。在括号中指定字符串的长度。最多 255 个字符。</td>
</tr>
<tr>
<td>2</td>
<td>VARCHAR(size)</td>
<td>保存可变长度的字符串（可包含字母、数字以及特殊字符）。在括号中指定字符串的最大长度。最多 255 个字符。注释：如果值的长度大于 255，则被转换为 TEXT 类型。</td>
</tr>
<tr>
<td>3</td>
<td>TINYTEXT</td>
<td>存放最大长度为 255 个字符的字符串。</td>
</tr>
<tr>
<td>4</td>
<td>TEXT</td>
<td>存放最大长度为 65,535 个字符的字符串</td>
</tr>
<tr>
<td>5</td>
<td>BLOB</td>
<td>用于 BLOBs（Binary Large OBjects）。存放最多 65,535 字节的数据。</td>
</tr>
<tr>
<td>6</td>
<td>MEDIUMTEXT</td>
<td>存放最大长度为 16,777,215 个字符的字符串。</td>
</tr>
<tr>
<td>7</td>
<td>MEDIUMBLOB</td>
<td>用于 BLOBs（Binary Large OBjects）。存放最多 16,777,215 字节的数据。</td>
</tr>
<tr>
<td>8</td>
<td>LONGTEXT</td>
<td>存放最大长度为 4,294,967,295 个字符的字符串。</td>
</tr>
<tr>
<td>9</td>
<td>LONGBLOB</td>
<td>用于 BLOBs (Binary Large OBjects)。存放最多 4,294,967,295 字节的数据。</td>
</tr>
<tr>
<td>10</td>
<td>ENUM(x,y,z,etc.)</td>
<td>允许您输入可能值的列表。可以在ENUM列表中列出最大65535个值。如果列表中不存在插入的值，则插入空值。注释：这些值是按照您输入的顺序排序的。可以按照此格式输入可能的值： ENUM(‘X’,’Y’,’Z’)</td>
</tr>
<tr>
<td>11</td>
<td>SET</td>
<td>与 ENUM 类似，不同的是，SET 最多只能包含 64 个列表项且 SET 可存储一个以上的选择。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Number类型</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>TINYINT(size)</td>
<td>带符号-128到127 ，无符号0到255。</td>
</tr>
<tr>
<td>2</td>
<td>SMALLINT(size)</td>
<td>带符号范围-32768到32767，无符号0到65535, size 默认为 6。</td>
</tr>
<tr>
<td>3</td>
<td>MEDIUMINT(size)</td>
<td>带符号范围-8388608到8388607，无符号的范围是0到16777215。 size 默认为9</td>
</tr>
<tr>
<td>4</td>
<td>INT(size)</td>
<td>带符号范围-2147483648到2147483647，无符号的范围是0到4294967295。 size 默认为 11</td>
</tr>
<tr>
<td>5</td>
<td>BIGINT(size)</td>
<td>带符号的范围是-9223372036854775808到9223372036854775807，无符号的范围是0到18446744073709551615。size默认为20</td>
</tr>
<tr>
<td>6</td>
<td>FLOAT(size,d)</td>
<td>带有浮动小数点的小数字。在 size 参数中规定显示最大位数。在 d 参数中规定小数点右侧的最大位数。</td>
</tr>
<tr>
<td>7</td>
<td>DOUBLE(size,d)</td>
<td>带有浮动小数点的大数字。在 size 参数中规显示定最大位数。在 d 参数中规定小数点右侧的最大位数。</td>
</tr>
<tr>
<td>8</td>
<td>DECIMAL(size,d)</td>
<td>作为字符串存储的DOUBLE类型，允许固定的小数点。在size参数中规定显示最大位数。在d参数中规定小数点右侧的最大位数。</td>
</tr>
<tr>
<td>注意：以上的 size 代表的并不是存储在数据库中的具体的长度，如int(4)并不是只能存储4个长度的数字。实际上intsize所占多少存储空间并无任何关系。int(3)、int(4)、int(8) 在磁盘上都是占用 4 btyes 的存储空间。就是在显示给用户的方式有点不同外，int(M) 跟 int 数据类型是相同的。</td>
<td></td>
<td></td>
</tr>
<tr>
<td>例如：</td>
<td></td>
<td></td>
</tr>
<tr>
<td>1、int的值为10 （指定zerofill）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>int（9）显示结果为000000010</td>
<td></td>
<td></td>
</tr>
<tr>
<td>int（3）显示结果为010</td>
<td></td>
<td></td>
</tr>
<tr>
<td>就是显示的长度不一样而已 都是占用四个字节的空间</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Date类型</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>DATE()</td>
<td>日期。格式：YYYY-MM-DD注释：支持的范围是从 ‘1000-01-01’ 到 ‘9999-12-31’</td>
</tr>
<tr>
<td>2</td>
<td>DATETIME()</td>
<td>*日期和时间的组合。格式：YYYY-MM-DD HH:MM:SS注释：支持的范围是从 ‘1000-01-01 00:00:00’ 到 ‘9999-12-31 23:59:59’</td>
</tr>
<tr>
<td>3</td>
<td>TIMESTAMP()</td>
<td>*时间戳。TIMESTAMP 值使用 Unix 纪元(‘1970-01-01 00:00:00’ UTC)至今的秒数来存储。格式：YYYY-MM-DDHH:MM:SS注释：支持的范围是从 ‘1970-01-01 00:00:01’ UTC 到 ‘2038-01-09 03:14:07’ UTC</td>
</tr>
<tr>
<td>4</td>
<td>TIME()</td>
<td>时间。格式：HH:MM:SS注释：支持的范围是从 ‘-838:59:59’ 到 ‘838:59:59’</td>
</tr>
<tr>
<td>5</td>
<td>YEAR()</td>
<td>2 位或 4 位格式的年。注释：4 位格式所允许的值：1901 到 2155。2 位格式所允许的值：70 到 69，表示从 1970 到 2069。</td>
</tr>
<tr>
<td>*即便DATETIME和TIMESTAMP返回相同的格式，它们的工作方式很不同。在INSERT或UPDATE查询中，TIMESTAMP自动把自身设置为当前的日期和时间。TIMESTAMP 也接受不同的格式，比如 YYYYMMDDHHMMSS、YYMMDDHHMMSS、YYYYMMDD 或 YYMMDD。</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<ul>
<li><p>查看表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查看某个数据库中的所有表</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line"><span class="comment">--查看表结构</span></span><br><span class="line">desc 表名;</span><br><span class="line"><span class="comment">--查看创建表的sql语句</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> 表名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建一个结构相同的表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 新表名 <span class="keyword">like</span> 旧表名;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> 表名;</span><br><span class="line"><span class="comment">--如果不存在不删除，存在删除</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> esists <span class="string">'create'</span>;</span><br></pre></td></tr></table></figure></li>
<li><p>修改表的结构(增加ADD)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">ADD</span> 列名 类型;</span><br></pre></td></tr></table></figure></li>
<li><p>修改列的类型(MODIFY)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">MODIFY</span> 列名 类型;</span><br></pre></td></tr></table></figure></li>
<li><p>插入数据(插入字符串数据要加上单引号)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名 (字段名<span class="number">1</span>，字段名<span class="number">2</span>，字段名<span class="number">3</span>) <span class="keyword">values</span> (值<span class="number">1</span>，值<span class="number">2</span>，值<span class="number">3</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>删除数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span> 条件表达式;</span><br></pre></td></tr></table></figure></li>
<li><p>设置主键</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">add</span> primary <span class="keyword">key</span>(<span class="keyword">id</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>设置id自增</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">change</span> <span class="keyword">id</span> <span class="keyword">id</span> AUTO_INCREMENT;</span><br><span class="line"><span class="comment">--设置初始值</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 AUTO_INCREMENT = <span class="number">1000</span>;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>##表的约束</p>
<ol>
<li>约束是为了保证数据的正确性，完整性，有效性，限定非法数据的插入</li>
<li>分类：</li>
</ol>
<ul>
<li>主键约束：primary key（自动增长）auto_increment<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> stu(</span><br><span class="line">  <span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span>, </span><br><span class="line">  <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>) </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">--添加非空</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">MODIFY</span> <span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span>;</span><br><span class="line"><span class="comment">--删除非空,只需要修改列名的属性</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">MODIFY</span> <span class="keyword">id</span> <span class="built_in">int</span>;</span><br></pre></td></tr></table></figure></li>
<li>非空约束：not null<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> stu(</span><br><span class="line">  <span class="keyword">id</span> <span class="built_in">int</span>,</span><br><span class="line">  <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">--添加非空</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">MODIFY</span> <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>;</span><br><span class="line"><span class="comment">--删除非空,只需要修改列名的属性</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">MODIFY</span> <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>);</span><br></pre></td></tr></table></figure></li>
<li>唯一约束：unique<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> stu(</span><br><span class="line">  <span class="keyword">id</span> <span class="built_in">int</span> <span class="keyword">unique</span>, </span><br><span class="line">  <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">20</span>) </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">--添加非空</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">MODIFY</span> <span class="keyword">id</span> <span class="built_in">int</span> <span class="keyword">unique</span>;</span><br><span class="line"><span class="comment">--删除非空,只需要修改列名的属性</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">MODIFY</span> <span class="keyword">id</span> <span class="built_in">int</span>;</span><br></pre></td></tr></table></figure></li>
<li>主键约束：foreign key constraint 外键名称 foreign Key (当前表的外键) reference 表名(列名)<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">drop</span> <span class="keyword">foreign</span> <span class="keyword">key</span> 外键名称 <span class="comment">--删除外键</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">add</span> <span class="keyword">constraint</span> employee_foreign <span class="keyword">foreign</span> <span class="keyword">key</span> (<span class="keyword">id</span>) <span class="keyword">reference</span> employee(UID)<span class="comment">--添加外键</span></span><br><span class="line"><span class="comment">--设置级联更新,这样一张表更新，另一张表就会更新</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">add</span> <span class="keyword">constraint</span> employee_foreign <span class="keyword">foreign</span> <span class="keyword">key</span> (<span class="keyword">id</span>) <span class="keyword">reference</span> employee(UID) <span class="keyword">on</span> <span class="keyword">update</span> <span class="keyword">cascade</span></span><br><span class="line"><span class="comment">--级联删除</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> stu <span class="keyword">add</span> <span class="keyword">constraint</span> employee_foreign <span class="keyword">foreign</span> <span class="keyword">key</span> (<span class="keyword">id</span>) <span class="keyword">reference</span> employee(UID) <span class="keyword">on</span> <span class="keyword">delete</span> <span class="keyword">cascade</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>##数据库的多表操作</p>
<ol>
<li>表之间的关系有四种，一对一，一对多，多对一，多对多</li>
<li>一对多实现,在多的表中建立外键，指向一的表的主键</li>
<li>多对多的实现，需要第三张中间表，中间表至少包含两个字段，这两个字段作为第三张表的外键，分别指向两张表的主键。并且为了保证两个主键不会出现一摸一样的情况，需要联合主键  primary key(rid,uid)</li>
<li>一对一实现，在任意一个表中添加外键指向另一表的主键，并且令外键唯一</li>
</ol>
<p>##数据库涉及范式</p>
<ol>
<li>就是数据库涉及时的规范</li>
<li>分类：有六类，但是一般项目只要前面三式</li>
</ol>
<ul>
<li><p>第一范式：每一列都是不可分割的原子项，就是每一列都是单独的列，里面不包含其他子列。<br><img src="/2020/04/24/JAVAWeb/%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F.png" alt><br>这里面的系就可以拆分为系名和系主任两个独立选项</p>
</li>
<li><p>第二范式：在第一范式的基础上，非码属性必须完全依赖于候选码（在第一范式的基础上消除非主属性对主码的部分函数依赖），消除部分依赖<br>上面的表中存在这许多问题，这些问题的解决就需要用到二三范式。</p>
</li>
<li><p>存在的问题：首先，数据有冗余。姓名，系名和系主任有大量重复，其次数据添加存在问题，添加新开设的系和系主任时数据不合法，最后数据删除存在问题，一名同学毕业后回将其所在的系和系主任都删除</p>
</li>
<li><p>函数依赖：A–&gt;B，如果通过A属性的值，可以确定唯一b属性的值，就称b依赖于a。例如表中学号–&gt;姓名（姓名依赖于学号，通过学号可以找到唯一姓名），（学号，课程）–&gt;分数(通过学号和课程可以确定唯一的分数，依赖于属性组)</p>
</li>
<li><p>完全函数依赖：A–&gt;B，如果A是一个属性组，则B属性值需要依赖A属性组中的所有属性值，例如（学号，课程名称）–&gt;分数</p>
</li>
<li><p>部分函数依赖：A–&gt;B，如果A是一个属性组，B属性的确定只需要A属性组的一些属性值，例如（学号，课程名称）–&gt;姓名</p>
</li>
<li><p>传递函数依赖：A–&gt;B,B–&gt;C,如果通过A属性的值，可以确定唯一B属性的值，在通过B属性的值可以确定唯一C属性的值，例如学号–&gt;系名，系名–&gt;系主任。</p>
</li>
<li><p>码：在一张表中，一个属性或属性组，被其他所有属性所完全依赖，则称这个属性（属性值）为该表的码，例如（学号，课程名称）<br>主属性：码属性组的所有属性<br>非主属性：除码属性的所有属性</p>
</li>
</ul>
<p><img src="/2020/04/24/JAVAWeb/%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F1.png" alt><br>第二范式是为了消除非主属性对主属性的部分依赖，就是要把表拆分为完全依赖的表，解决第一个数据冗余问题，第一张表中，分数完全依赖于学号和课程名称，第二张表中，姓名系主任，系名都完全依赖学号，因此可以删除一大部分冗余数据。但是第二三个问题没有解决，还需要第三范式。</p>
<ul>
<li>第三范式：在第一二范式的基础上，任何非主属性不依赖于其他非主属性（消除传递依赖）<br><img src="/2020/04/24/JAVAWeb/%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F.png" alt><br>系主任完成依赖于系名，系名依赖于学号，因此系主任传递依赖于学号，就可以拆分，同理系名也传递依赖学号，就可以把这两个分出去。就解决了插入和删除对其他数据的影响。因此判断表设计是否合理，就是看其有没有数据冗余，插入删除数据会不会对其他数据产生影响。</li>
</ul>
<p>##数据库的多表查询</p>
<ol>
<li>多表查询会查询除许多不需要的数据，这时就需要去除这些无用的数据，需要用到内连接，外连接和子查询。</li>
<li>内连接：分为隐式和显式，隐式用where来删除无用的信息。显式是select 字段 from 表1 inner join 表2 on 条件</li>
<li>外连接：也分为左外和右外，select 字段 from 表1 left （outer） join 表2 on 条件，括号中可写可不写，左连接是查询左表所有数据和右表的并集部分，就是左表全部查询，右表如果没有对应信息就会默认空，右表相反，语句吧left改为right即可。</li>
<li>子查询：</li>
</ol>
<ul>
<li>子查询的结果是单行单列的，子查询可以作为条件，使用运算符（&gt; &lt; =）去判断。<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> 表<span class="number">1</span> <span class="keyword">where</span> 字段 = (<span class="keyword">select</span> <span class="keyword">MAX</span>(字段) <span class="keyword">from</span> 表<span class="number">2</span>)</span><br></pre></td></tr></table></figure></li>
<li>查询结果是多行单列的,查询的结果作为集合在其中查询<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emploment e <span class="keyword">where</span> e.id <span class="keyword">in</span> (<span class="keyword">select</span> * <span class="keyword">form</span> depaetment  <span class="keyword">where</span> <span class="keyword">name</span> = <span class="string">'市场部'</span> <span class="keyword">or</span> <span class="keyword">name</span> = <span class="string">'技术部'</span>)</span><br></pre></td></tr></table></figure></li>
<li>查询结果是多行多列的，子查询可以作为虚拟表进行查询<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> depr t1, (<span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> emp.date &gt; <span class="number">12</span>) t2 <span class="keyword">where</span> t1.id = t2.id</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h1 id="表单注册"><a href="#表单注册" class="headerlink" title="表单注册"></a>表单注册</h1><ol>
<li><div> 可定义文档中的分区或节（division/section）。<div>标签可以把文档分割为独立的、不同的部分。它可以用作严格的组织工具，并且不使用任何格式与其关联。如果用 id 或 class 来标记 <div>，那么该标签的作用会变得更加有效。并且不推荐使用align属性来确定div的对齐方式，通过样式来确定对齐方式</div></div></div></li>
<li><p>表单中的action属性是指定向哪个地方发送表单数据，是本站就写相对URL，外部网站就写绝对URL</p>
</li>
<li><p><label> 标签为 input 元素定义标注（标记）。label 元素不会向用户呈现任何特殊效果。不过，它为鼠标用户改进了可用性。如果您在 label 元素内点击文本，就会触发此控件。就是说，当用户选择该标签时，浏览器就会自动将焦点转到和标签相关的表单控件上。<label> 标签的 for 属性应当与相关元素的 id 属性相同。for属性会将label和某个元素绑定，就是点击某段文字，就会触发与之绑定的组件</label></label></p>
</li>
<li><p>colspan 属性规定单元格可横跨的列数,即一个单元格可以横跨几列，colspan=”0” 指示浏览器横跨到列组的最后一列。</p>
</li>
<li><p>设置背景图片</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">body&#123;</span><br><span class="line">	background: url("") no-repeat center;<span class="comment">&lt;!--no-repeat是为了让图片不出现重复--!&gt;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><p>类选择器，设置某一类的共同样式，前面要加上点</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.rg_layout&#123;</span><br><span class="line">            width: 900px;</span><br><span class="line">            height: 500px;</span><br><span class="line">            border: 8px solid #EEEEEE;</span><br><span class="line">            background: white;</span><br><span class="line">            margin: auto;</span><br><span class="line">            margin-top: 15px;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>让div变成水平放置，用浮动float</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.rg_center&#123;</span><br><span class="line">            border: 1px solid red;</span><br><span class="line">            float: right;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>子类选择器,首先通过&gt;找到子类，在通过first-child找到第一个子元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.rg_left &gt; p:first-child&#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>内边框是padding，设置内部元素与外部的间距</p>
</li>
<li><p>并集选择器，将相同的样式设置成多个id</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#username,#birthday,#name,#email,#password,#checkcode,#tel&#123;</span><br><span class="line">            border: 1px solid #A6A6A6;</span><br><span class="line">            width: 251px;</span><br><span class="line">            height: 32px;</span><br><span class="line">            border-radius: 5px;</span><br><span class="line">            padding-left: 10px;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>













</li>
</ol>
<p>#注意点<br>baseservlet优化之后记得修改，激活成功，请登录<a href="login.html"></a>,改为login的绝对路径，因为原来activeservlet和login是在同一travel路经下的，而用的userservlet后，路径就回多一个/user，就不可能找到login的路径，同时，找login的路径，一定要把服务器打开找路径，不然找到的只是login静态资源的路径，服务器打开时也会找不到</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">active</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//1.获取激活码</span></span><br><span class="line">        String code = request.getParameter(<span class="string">"code"</span>);</span><br><span class="line">        <span class="keyword">if</span>(code != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">//2.调用service完成激活</span></span><br><span class="line">            <span class="keyword">boolean</span> flag = service.active(code);</span><br><span class="line">            <span class="comment">//3.判断标记</span></span><br><span class="line">            String msg = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">                <span class="comment">//激活成功</span></span><br><span class="line">                msg = <span class="string">"激活成功，请&lt;a href='http://localhost/travel/login.html'&gt;登录&lt;/a&gt;"</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//激活失败</span></span><br><span class="line">                msg = <span class="string">"激活失败，请联系管理员!"</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//将信息返回,注意这里不是用json返回，而是用response以html形式返回，用json只能显示键值对,不能显示点击超连接的效果</span></span><br><span class="line">            response.setContentType(<span class="string">"text/html;charset=utf-8"</span>);</span><br><span class="line">            response.getWriter().write(msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h1 id="servlet"><a href="#servlet" class="headerlink" title="servlet"></a>servlet</h1><ol>
<li>servlet(server applet)是sun公司开发的一款用于开发动态web资源的技术，web资源分为动态和静态的两种。在服务器上运行的小程序<br><img src="/2020/04/24/JAVAWeb/Servlet.png" alt></li>
<li>动态和静态的区别</li>
</ol>
<ul>
<li>动态web资源是客户端请求的动态资源，先将资源交于web容器，在由web容器连接数据库，数据库处理数据后交由web容器返回给客户端解析渲染处理</li>
<li>静态资源是web容器从内存中直接调取返回给客户端</li>
<li>静态资源一般是设计好的html页面，而动态资源是根据设计好的程序按照需求来动态响应</li>
<li>静态资源的交互性差，动态资源的交互性好</li>
<li>静态资源不需要数据库参与程序处理，而动态资源需要</li>
</ul>
<h2 id="servlet的实现方法"><a href="#servlet的实现方法" class="headerlink" title="servlet的实现方法"></a>servlet的实现方法</h2><p>sun在java中提供了servlet的接口，只需要完成两个步骤</p>
<ul>
<li>编写Java类，实现servlet接口</li>
<li>在WEB-INF目录下的web.xml中配置Servlet<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee</span></span></span><br><span class="line"><span class="tag"><span class="string">			 http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">"3.1"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--配置Servlet--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--配置Servlet的别名--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>demo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--配置Servlet的路径，也就是全限定类名--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>cn.itcast.web.servlet.ServletDemo1<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--配置Servlet的访问路径--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--Servlet的别名--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>demo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--配置访问路径--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/demo1<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>##Servlet的原理<br>tomcat通过解析web.xml文件，获取到<Servlet-class>标签下的Servlet对应的全限定类名，将类的字节码文件加载进内存，调用Class.forName().newInstance(),创建一个新的对象，掉用对象中的service方法，完成所需的功能。</Servlet-class></p>
<p>##Servlet的生命周期方法<br>Init：只执行一次，可以通过配置指定在服务器启动时执行或者在第一次访问Servelt时启动<br>配置在Servelt中用<load-on-startup>标签控制，为负数是指定第一次被访问时执行，为0或正数是在服务器启动时执行。由于Init只执行一次，即Servelt是单例对象，那么就会存在多线程安全问题，解决方法就是在方法中定义局部变量，不在Servlet中定义成员变量<br>Service每次访问Servlet时执行，destory在服务器正常关闭时才会执行</load-on-startup></p>
<p>##Servelt的体系结构<br>Servlet是接口，其下有GenericServlet的子抽象类和HttpServlet的孙子抽象类。其中GenericServlet只有Service的抽象，其他方法默认为空，HttpServlet封装了Http协议的相关操作，使用者不需要再根据请求的类型做相应的处理，直接写在doGet和doPost方法里。</p>
<p>##路径配置</p>
<ol>
<li>一个Servlet可以匹配多个路径，<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet</span>(&#123;<span class="string">"/d4"</span>,<span class="string">"/ddd4"</span>,<span class="string">"/d4"</span>&#125;)</span><br></pre></td></tr></table></figure></li>
<li>其他路径配置方式<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/xxx/xx  <span class="comment">// 多层路径方式</span></span><br><span class="line">/xxx<span class="comment">/* //写什么样的路径都会访问</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>##Http(HyperText Transfer protocol)超文本传输协议</p>
<ol>
<li>请求消息格式:</li>
</ol>
<ul>
<li>请求行<br>  请求方式 请求url 请求协议/版本<pre><code>GET    /login.html Http/1.1</code></pre></li>
<li>请求头<br>  请求头名称： 值<br>  常见的请求头：<br>  user-Agent：告诉服务器浏览器的版本，从而解决浏览器的兼容问题<br>  Accept:告诉服务器浏览器可以接受的数据格式<br>  Accept-Language:浏览器的语言环境<br>  refer:<a href="https://cn.bing.com/" target="_blank" rel="noopener">https://cn.bing.com/</a> 告诉服务器当前请求从哪里来，防止盗链和统计工作。</li>
<li>请求空行<br>  就是空行，分割请求头和请求体</li>
<li>请求体<br>  GET是没有请求体的，因为请求体中装的是请求的一些参数，而GET方式的话，请求参数是装在请求行(url)中的<br>  username=zhangsan</li>
</ul>
<ol start="2">
<li>响应消息格式：</li>
</ol>
<h1 id="一些杂谈"><a href="#一些杂谈" class="headerlink" title="一些杂谈"></a>一些杂谈</h1><ol>
<li><p>得到表单提交的数据用String name = request.getParameter(“name”);<br>这里request.getParameter(“name”)的作用是获得提交的表单中name值为“name”的value，这是通过表单标签的action属性完成，这个属性是规定了表单获得的数据发送到哪个页面</p>
</li>
<li><p>Servlet的框架是由两个Java包组成:javax.servlet和javax.servlet.http. 在javax.servlet包中定义了所有的Servlet类都必须实现或扩展的的通用接口和类.在javax.servlet.http包中定义了采用HTTP通信协议的HttpServlet类.</p>
</li>
<li><p>Servlet的框架的核心是javax.servlet.Servlet接口,所有的Servlet都必须实现这一接口.在Servlet接口中定义了5个方法,其中有3个方法代表了Servlet的声明周期:</p>
</li>
<li><p>init方法,负责初始化Servlet对象<br>service方法,负责相应客户的请求<br>destory方法,当Servlet对象退出声明周期时,负责释放占有的资源</p>
</li>
<li><p>ServletConfig:代表当前Servlet在web.xml中的配置信息（用的不多）</p>
</li>
</ol>
<p>String getServletName()  – 获取当前Servlet在web.xml中配置的名字<br>String getInitParameter(String name) – 获取当前Servlet指定名称的初始化参数的值<br>Enumeration getInitParameterNames()  – 获取当前Servlet所有初始化参数的名字组成的枚举<br>ServletContext getServletContext()  – 获取代表当前web应用的ServletContext对象<br>在Servlet的配置文件中，可以使用一个或多个<init-param>标签为servlet配置一些初始化参数。</init-param></p>
<p>当servlet配置了初始化参数后，web容器在创建servlet实例对象时，会自动将这些初始化参数封装到ServletConfig对象中，并在调用servlet的init方法时，将ServletConfig对象传递给servlet。进而，程序员通过ServletConfig对象就可以得到当前servlet的初始化参数信息。</p>
<p>这样做的好处是：如果将数据库信息、编码方式等配置信息放在web.xml中，如果以后数据库的用户名、密码改变了，则直接很方便地修改web.xml就行了，避免了直接修改源代码的麻烦</p>
<ol start="6">
<li><p>不管是客户端还是服务端，要想跳转，就得把跳转页面放在web文件夹下，而不是放在WEB-INF文件夹下</p>
</li>
<li><p>servlet用web动态项目做的project，打开时要加127.0.0.1:8080/j2ee/listHero，不直接加listHero，并且点击增删查改操作时，点击跳转后会无法跳转，这也是由于上述原因，只要按上面格式输入就好(其实就是相对路径和绝对路径)，通过web动态项目run as就是相对路径，要加上项目名称</p>
</li>
</ol>
<h1 id="tomcat匹配的jdk"><a href="#tomcat匹配的jdk" class="headerlink" title="tomcat匹配的jdk"></a>tomcat匹配的jdk</h1><ol>
<li>如果是用的how2j提供的tomcat，那么Java的jdk版本必须是1.8(我之前用的是13，打开tomcat就闪退)，具体安装教程how2j上也有。</li>
<li>如果想用url访问html文件，必须在tomcat/bin/webapps下手动新建一个ROOT(大写)文件夹，才能在网站上看见。</li>
<li>tomcat的乱码显示问题</li>
<li>部署项目时要加上端口号，并且在server配置文件里写文件路径时，要新建一个web项目文件</li>
<li>用eclipsse打开时，会发现报failed to find JDK….jvm,这是因为jdk版本与eclipse版本不一致导致，全部用how2j提供的版本进行下载</li>
</ol>
<h1 id="部署servlet时的错误"><a href="#部署servlet时的错误" class="headerlink" title="部署servlet时的错误"></a>部署servlet时的错误</h1><ol>
<li>将WEB-INF文件错打成了WEB_INF,</li>
</ol>
<h1 id="jdbc查询语句中String里面不加单引号，但是在sql中要加"><a href="#jdbc查询语句中String里面不加单引号，但是在sql中要加" class="headerlink" title="jdbc查询语句中String里面不加单引号，但是在sql中要加"></a>jdbc查询语句中String里面不加单引号，但是在sql中要加</h1><p>#爬虫时遇到的问题</p>
<ol>
<li>spring里的@table（）配置出错，这是因为IDEA没有和数据库建立连接，博客，是因为驱动和sql版本不对，换成5.1即可</li>
<li>application要放在itcast.cn.crawler.jd的下面，放在其他包下面可能不能运行</li>
<li>爬取京东网页内容时爬取失败，发现是要先登录，这是因为没有进行模拟登录，没有设置headers信息，不能被服务器识别为浏览器。设置headwes信息即可</li>
<li>获取spu和sku失败，经过调试后发现，有的spu是空值，没有对空值的情况进行处理，进行处理后发现spu为空值时，ware-type=”0”，就将其设为条件，当=0时，就令spu=null，sku找不到是因为select根本没有获取到元素，视频中的选择器写错了，应该是”img”,它写为了”[data-sku]”，改过之后就能正常下载了。</li>
</ol>
<p>#IDEA中resource下创建多级目录</p>
<ol>
<li>在左边小窗口中的设置中选择取消紧凑中间包选项即可</li>
<li>alt+7，显示类下的所有方法</li>
</ol>

      
    </div>
    
    
    
    
    <div>
       
        
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  
  <!-- JS库 sweetalert 可修改路径 -->
  <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <p><span>本文标题:</span><a href="/2020/04/24/JAVAWeb/">JAVAWeb</a></p>
  <p><span>文章作者:</span><a href="/" title="访问 AZrookie 的个人博客">AZrookie</a></p>
  <p><span>发布时间:</span>2020年04月24日 - 13:04</p>
  <p><span>最后更新:</span>2020年06月23日 - 10:06</p>
  <p><span>原始链接:</span><a href="/2020/04/24/JAVAWeb/" title="JAVAWeb">http://azrookie.com/2020/04/24/JAVAWeb/</a>
    <span class="copy-path"  title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="http://azrookie.com/2020/04/24/JAVAWeb/"  aria-label="复制成功！"></i></span>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
    $(".fa-clipboard").click(function(){
      clipboard.on('success', function(){
        swal({   
          title: "",   
          text: '复制成功',
          icon: "success", 
          showConfirmButton: true
          });
    });
    });  
</script>


       
    </div>
    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/images/panda_ear.jfif" alt="AZrookie wechat" style="width: 200px; max-width: 100%;"/>
    <div>暂时没有公众号哟</div>
</div>

      </div>
    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>求打赏</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechat_pay.png" alt="AZrookie 微信支付"/>
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/ali_pay.jpg" alt="AZrookie 支付宝"/>
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JAVAWeb/" rel="tag">
<i class="fa fa-space-shuttle" aria-hidden="true"></i>
            <a> JAVAWeb</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/04/24/c%E8%AF%AD%E8%A8%80%E6%8F%90%E9%AB%98/" rel="next" title="c语言提高">
                <i class="fa fa-chevron-left"></i> c语言提高
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/06/20/ssm%E6%A1%86%E6%9E%B6/" rel="prev" title="ssm框架">
                ssm框架 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<span class="jiathis_txt">分享到：</span>
<a class="jiathis_button_fav">收藏夹</a>
<a class="jiathis_button_copy">复制网址</a>
<a class="jiathis_button_email">邮件</a>
<a class="jiathis_button_weixin">微信</a>
<a class="jiathis_button_qzone">QQ空间</a>
<a class="jiathis_button_tqq">腾讯微博</a>
<a class="jiathis_button_douban">豆瓣</a>
<a class="jiathis_button_share">一键分享</a>

<a href="http://www.jiathis.com/share?uid=2140465" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a>
<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
  data_track_clickback:true,
  summary:"",
  shortUrl:false,
  hideMore:false
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=" charset="utf-8"></script>
<!-- JiaThis Button END -->
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/pig.jfif"
                alt="AZrookie" />
            
              <p class="site-author-name" itemprop="name">AZrookie</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7Carchive">
              
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/AZrookie" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:c0cgcldxu@outlook.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://google.com/" title="google" target="_blank">google</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#MVC框架设计"><span class="nav-number">1.</span> <span class="nav-text">MVC框架设计</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#网站案例结构"><span class="nav-number">2.</span> <span class="nav-text">网站案例结构</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#功能分析"><span class="nav-number">3.</span> <span class="nav-text">功能分析</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#注册功能"><span class="nav-number">3.1.</span> <span class="nav-text">注册功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#前台效果-V层"><span class="nav-number">3.1.1.</span> <span class="nav-text">前台效果(V层)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#后台处理"><span class="nav-number">3.1.2.</span> <span class="nav-text">后台处理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用到的技术"><span class="nav-number">3.2.</span> <span class="nav-text">用到的技术</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JQuery"><span class="nav-number">4.</span> <span class="nav-text">JQuery</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#定义"><span class="nav-number">4.1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用前要将jquery-3-3-1-min-js导入到项目中。"><span class="nav-number">4.2.</span> <span class="nav-text">使用前要将jquery-3.3.1.min.js导入到项目中。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JQuery对象和js对象的互相转换"><span class="nav-number">4.3.</span> <span class="nav-text">JQuery对象和js对象的互相转换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#选择器"><span class="nav-number">4.4.</span> <span class="nav-text">选择器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Ajax"><span class="nav-number">5.</span> <span class="nav-text">Ajax</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概念：JavaScript-object-notation-JavaScript对象表示法-，作用类似于Java中的实体类，用来封装数据的。现在多用于存储和交换信息，类似xml，但比xml更小，更快，更易解析"><span class="nav-number">5.1.</span> <span class="nav-text">概念：JavaScript object notation(JavaScript对象表示法)，作用类似于Java中的实体类，用来封装数据的。现在多用于存储和交换信息，类似xml，但比xml更小，更快，更易解析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#语法"><span class="nav-number">5.2.</span> <span class="nav-text">语法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#navicat常用快捷键"><span class="nav-number">6.</span> <span class="nav-text">navicat常用快捷键</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#注意事项"><span class="nav-number">7.</span> <span class="nav-text">注意事项</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#后台代码"><span class="nav-number">7.1.</span> <span class="nav-text">后台代码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#验证码"><span class="nav-number">7.2.</span> <span class="nav-text">验证码</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL数据库"><span class="nav-number">8.</span> <span class="nav-text">SQL数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#数据库基本操作"><span class="nav-number">8.1.</span> <span class="nav-text">数据库基本操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#表的操作"><span class="nav-number">8.2.</span> <span class="nav-text">表的操作</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#表单注册"><span class="nav-number">9.</span> <span class="nav-text">表单注册</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#servlet"><span class="nav-number">10.</span> <span class="nav-text">servlet</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#servlet的实现方法"><span class="nav-number">10.1.</span> <span class="nav-text">servlet的实现方法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#一些杂谈"><span class="nav-number">11.</span> <span class="nav-text">一些杂谈</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#tomcat匹配的jdk"><span class="nav-number">12.</span> <span class="nav-text">tomcat匹配的jdk</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#部署servlet时的错误"><span class="nav-number">13.</span> <span class="nav-text">部署servlet时的错误</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#jdbc查询语句中String里面不加单引号，但是在sql中要加"><span class="nav-number">14.</span> <span class="nav-text">jdbc查询语句中String里面不加单引号，但是在sql中要加</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">AZrookie</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">86.3k</span>
  
</div>

<!--
  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>
-->



        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      本站访问数 <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      本站总访问量 <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  



  
  



  
  







  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three-waves.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'M6Lg0ANU9Yk5EWxzT6TzCChq-gzGzoHsz',
        appKey: 'aVFI5yacpNkOeY6YXw2l302k',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

 
 <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas>
 <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
 <script type="text/javascript" src="/js/src/fireworks.js"></script>
 
</body>
</html>
